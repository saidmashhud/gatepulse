# HookLine Bridge — default config (overridden by env vars)
bridge {
  kafka {
    bootstrap-servers = "localhost:9092"
    bootstrap-servers = ${?KAFKA_BOOTSTRAP_SERVERS}

    group-id = "hookline-bridge"
    group-id = ${?KAFKA_GROUP_ID}

    # Comma-separated list of Kafka topics to consume
    topics = "events"
    topics = ${?KAFKA_TOPICS}

    # Optional prefix to strip from Kafka topic name before publishing to HookLine
    # e.g. "prod." → Kafka "prod.orders.created" becomes HookLine topic "orders.created"
    topic-prefix = ""
    topic-prefix = ${?KAFKA_TOPIC_PREFIX}

    auto-offset-reset = "latest"
    auto-offset-reset = ${?KAFKA_AUTO_OFFSET_RESET}
  }

  hookline {
    url = "http://localhost:8080"
    url = ${?HOOKLINE_URL}

    api-key = "dev-secret"
    api-key = ${?HOOKLINE_API_KEY}
  }

  parallelism = 4
  parallelism = ${?BRIDGE_PARALLELISM}

  retry-max = 5
  retry-max = ${?BRIDGE_RETRY_MAX}

  retry-base-ms = 200
  retry-base-ms = ${?BRIDGE_RETRY_BASE_MS}
}
